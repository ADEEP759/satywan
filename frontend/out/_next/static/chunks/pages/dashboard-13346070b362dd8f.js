(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(9130)}])},9130:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var l=s(5893),a=s(439),n=s(7294),r=s(6906),o=s(1163),d=function(e){var t=(0,o.useRouter)(),s=(0,n.useState)([]),a=s[0],d=s[1],c=(0,n.useState)({token:t.query.token,date:new Date}),i=c[0];c[1];console.log(a),(0,n.useEffect)((function(){r.Z.post("/api/installmentlist",i).then((function(e){d(e.data)})).catch((function(e){console.log("Error found in get list of installment")}))}),[i]);var u=function(e){var s=e.target.getAttribute("data-id");if(""==s)return console.log("Date should not be empty"),!1;var l=document.getElementById("filterdate").value;console.log(),r.Z.post("/api/installmentlist/status",{token:t.query.token,installment_id:s,date:l}).then((function(e){d(e.data)})).catch((function(e){console.log("Error found in get list of installment")}))},h="border-solid border-2 border-black-600 border-b dark:border-slate-600  font-black font-bold p-4 pl-8 pt-4 pb-3 text-black-400 dark:text-slate-400 text-left",m="border-b border-slate-100 border-solid dark:border-slate-700 p-4 pl-8 text-black-500 dark:text-slate-400";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:["Date : ",(0,l.jsx)("input",{type:"text",id:"filterdate",placeholder:"YYYY-mm-dd",place:!0}),(0,l.jsx)("button",{onClick:function(){var e=document.getElementById("filterdate"),s=e.value;if(console.log(s),""==s)return e.focus(),alert("you clicked on empty id"),!1;r.Z.post("/api/installmentlist",{token:t.query.token,date:s}).then((function(e){d(e.data)})).catch((function(e){console.log("Error found in get list of installment")}))},className:"rounded-full p-3 bg-[#7B7471C4] hover:rounded-lg",children:"Filter Installment"})]}),(0,l.jsx)("h2",{className:"p-8 inline-block text-2xl sm:text-3xl font-extrabold text-slate-900 tracking-tight dark:text-slate-200",children:"Installments List"}),(0,l.jsxs)("table",{className:"border-collapse table-auto w-full text-sm",children:[(0,l.jsx)("thead",{className:"bg-[#7B7471C4] rounded-sm",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:h,children:"Number"}),(0,l.jsx)("th",{scope:"col",className:h,children:"Amount"}),(0,l.jsx)("th",{scope:"col",className:h,children:"Date"}),(0,l.jsx)("th",{scope:"col",className:h,children:"Name"}),(0,l.jsx)("th",{scope:"col",className:h,children:"Phone Number"}),(0,l.jsx)("th",{scope:"col",className:h,children:"Paid Status"})]})}),(0,l.jsx)("tbody",{className:"",children:a.map((function(e){return(0,l.jsxs)("tr",{className:e.paidStatus?"bg-[#4ADE80]":"bg-[#FB7185]",children:[(0,l.jsxs)("th",{scope:"row",className:"border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-black-500 dark:text-slate-400",children:[(0,l.jsx)("input",{className:"p-4",checked:e.paidStatus?"checked":"","data-id":e.id,onClick:u,type:"checkbox"}),e.instalmentNumber]}),(0,l.jsx)("td",{className:m,children:e.installmentAmount}),(0,l.jsx)("td",{className:m,children:e.installmentDate}),(0,l.jsx)("td",{className:m,children:e.borrower.name}),(0,l.jsx)("td",{className:m,children:(0,l.jsx)("a",{href:"tel:"+e.borrower.phone,children:e.borrower.phone})}),(0,l.jsx)("td",{className:m,children:e.paidStatus?"paid":"unpaid"})]},e.id)}))})]})]})},c=s(9008),i=s.n(c),u=function(){return(0,l.jsxs)(a.Z,{header:(0,l.jsx)("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),children:[(0,l.jsx)(i(),{children:(0,l.jsx)("title",{children:"Finace - Dashboard"})}),(0,l.jsx)("div",{className:"py-12",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:(0,l.jsx)("div",{className:"p-6 bg-white border-b border-gray-200",children:(0,l.jsx)(d,{})})})})})]})}}},function(e){e.O(0,[57,773,439,774,888,179],(function(){return t=1075,e(e.s=t);var t}));var t=e.O();_N_E=t}]);